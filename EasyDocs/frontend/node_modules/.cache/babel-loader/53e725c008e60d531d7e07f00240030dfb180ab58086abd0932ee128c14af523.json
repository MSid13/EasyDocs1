{"ast":null,"code":"var _jsxFileName = \"/Users/smantrala/Documents/GitHub/EasyDocs/frontend/src/YjsQuillEditor.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport Quill from 'quill';\nimport * as Y from 'yjs';\nimport { QuillBinding } from 'y-quill';\nimport { WebsocketProvider } from 'y-websocket';\nimport 'quill/dist/quill.snow.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst toolbarOptions = [['bold', 'italic', 'underline', 'strike'],\n// toggled buttons\n['blockquote', 'code-block'], [{\n  'header': 1\n}, {\n  'header': 2\n}],\n// custom button values\n[{\n  'list': 'ordered'\n}, {\n  'list': 'bullet'\n}], [{\n  'script': 'sub'\n}, {\n  'script': 'super'\n}],\n// superscript/subscript\n[{\n  'indent': '-1'\n}, {\n  'indent': '+1'\n}],\n// outdent/indent\n[{\n  'direction': 'rtl'\n}],\n// text direction\n[{\n  'size': ['small', false, 'large', 'huge']\n}],\n// custom dropdown\n[{\n  'header': [1, 2, 3, 4, 5, 6, false]\n}], [{\n  'color': []\n}, {\n  'background': []\n}],\n// dropdown with defaults\n[{\n  'font': []\n}], [{\n  'align': []\n}], ['clean'] // remove formatting\n];\nexport default function YjsQuillEditor({\n  docId,\n  readOnly\n}) {\n  _s();\n  const editorRef = useRef();\n  const ydocRef = useRef();\n  const providerRef = useRef();\n  const bindingRef = useRef();\n  const quillRef = useRef();\n  useEffect(() => {\n    // Create Yjs doc and provider\n    ydocRef.current = new Y.Doc();\n    providerRef.current = new WebsocketProvider('ws://localhost:1234', `doc-${docId}`, ydocRef.current);\n    const ytext = ydocRef.current.getText('quill');\n    quillRef.current = new Quill(editorRef.current, {\n      theme: 'snow',\n      readOnly,\n      modules: {\n        toolbar: toolbarOptions\n      }\n    });\n    bindingRef.current = new QuillBinding(ytext, quillRef.current, providerRef.current.awareness);\n    return () => {\n      providerRef.current.destroy();\n      ydocRef.current.destroy();\n    };\n  }, [docId, readOnly]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: editorRef,\n    style: {\n      height: 300,\n      marginBottom: 20\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 10\n  }, this);\n}\n_s(YjsQuillEditor, \"tx5I4g5faR9tAgoflD2O5se4pPo=\");\n_c = YjsQuillEditor;\nvar _c;\n$RefreshReg$(_c, \"YjsQuillEditor\");","map":{"version":3,"names":["React","useEffect","useRef","Quill","Y","QuillBinding","WebsocketProvider","jsxDEV","_jsxDEV","toolbarOptions","YjsQuillEditor","docId","readOnly","_s","editorRef","ydocRef","providerRef","bindingRef","quillRef","current","Doc","ytext","getText","theme","modules","toolbar","awareness","destroy","ref","style","height","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/smantrala/Documents/GitHub/EasyDocs/frontend/src/YjsQuillEditor.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport Quill from 'quill';\nimport * as Y from 'yjs';\nimport { QuillBinding } from 'y-quill';\nimport { WebsocketProvider } from 'y-websocket';\nimport 'quill/dist/quill.snow.css';\n\nconst toolbarOptions = [\n  ['bold', 'italic', 'underline', 'strike'],        // toggled buttons\n  ['blockquote', 'code-block'],\n  [{ 'header': 1 }, { 'header': 2 }],               // custom button values\n  [{ 'list': 'ordered'}, { 'list': 'bullet' }],\n  [{ 'script': 'sub'}, { 'script': 'super' }],      // superscript/subscript\n  [{ 'indent': '-1'}, { 'indent': '+1' }],          // outdent/indent\n  [{ 'direction': 'rtl' }],                         // text direction\n  [{ 'size': ['small', false, 'large', 'huge'] }],  // custom dropdown\n  [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\n  [{ 'color': [] }, { 'background': [] }],          // dropdown with defaults\n  [{ 'font': [] }],\n  [{ 'align': [] }],\n  ['clean']                                         // remove formatting\n];\n\nexport default function YjsQuillEditor({ docId, readOnly }) {\n  const editorRef = useRef();\n  const ydocRef = useRef();\n  const providerRef = useRef();\n  const bindingRef = useRef();\n  const quillRef = useRef();\n\n  useEffect(() => {\n    // Create Yjs doc and provider\n    ydocRef.current = new Y.Doc();\n    providerRef.current = new WebsocketProvider('ws://localhost:1234', `doc-${docId}`, ydocRef.current);\n    const ytext = ydocRef.current.getText('quill');\n    quillRef.current = new Quill(editorRef.current, {\n      theme: 'snow',\n      readOnly,\n      modules: { toolbar: toolbarOptions }\n    });\n    bindingRef.current = new QuillBinding(ytext, quillRef.current, providerRef.current.awareness);\n    return () => {\n      providerRef.current.destroy();\n      ydocRef.current.destroy();\n    };\n  }, [docId, readOnly]);\n\n  return <div ref={editorRef} style={{ height: 300, marginBottom: 20 }} />;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}