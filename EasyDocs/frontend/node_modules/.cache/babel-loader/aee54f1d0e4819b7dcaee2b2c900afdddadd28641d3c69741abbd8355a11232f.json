{"ast":null,"code":"var _jsxFileName = \"/Users/smantrala/Documents/GitHub/EasyDocs/frontend/src/YjsQuillEditor.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport Quill from 'quill';\nimport * as Y from 'yjs';\nimport { QuillBinding } from 'y-quill';\nimport { WebsocketProvider } from 'y-websocket';\nimport 'quill/dist/quill.snow.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function YjsQuillEditor({\n  docId,\n  readOnly\n}) {\n  _s();\n  const editorRef = useRef();\n  const ydocRef = useRef();\n  const providerRef = useRef();\n  const bindingRef = useRef();\n  const quillRef = useRef();\n  useEffect(() => {\n    // Create Yjs doc and provider\n    ydocRef.current = new Y.Doc();\n    providerRef.current = new WebsocketProvider('ws://localhost:1234', `doc-${docId}`, ydocRef.current);\n    const ytext = ydocRef.current.getText('quill');\n    quillRef.current = new Quill(editorRef.current, {\n      theme: 'snow',\n      readOnly\n    });\n    bindingRef.current = new QuillBinding(ytext, quillRef.current, providerRef.current.awareness);\n    return () => {\n      providerRef.current.destroy();\n      ydocRef.current.destroy();\n    };\n  }, [docId, readOnly]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: editorRef,\n    style: {\n      height: 300,\n      marginBottom: 20\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 10\n  }, this);\n}\n_s(YjsQuillEditor, \"tx5I4g5faR9tAgoflD2O5se4pPo=\");\n_c = YjsQuillEditor;\nvar _c;\n$RefreshReg$(_c, \"YjsQuillEditor\");","map":{"version":3,"names":["React","useEffect","useRef","Quill","Y","QuillBinding","WebsocketProvider","jsxDEV","_jsxDEV","YjsQuillEditor","docId","readOnly","_s","editorRef","ydocRef","providerRef","bindingRef","quillRef","current","Doc","ytext","getText","theme","awareness","destroy","ref","style","height","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/smantrala/Documents/GitHub/EasyDocs/frontend/src/YjsQuillEditor.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport Quill from 'quill';\nimport * as Y from 'yjs';\nimport { QuillBinding } from 'y-quill';\nimport { WebsocketProvider } from 'y-websocket';\nimport 'quill/dist/quill.snow.css';\n\nexport default function YjsQuillEditor({ docId, readOnly }) {\n  const editorRef = useRef();\n  const ydocRef = useRef();\n  const providerRef = useRef();\n  const bindingRef = useRef();\n  const quillRef = useRef();\n\n  useEffect(() => {\n    // Create Yjs doc and provider\n    ydocRef.current = new Y.Doc();\n    providerRef.current = new WebsocketProvider('ws://localhost:1234', `doc-${docId}`, ydocRef.current);\n    const ytext = ydocRef.current.getText('quill');\n    quillRef.current = new Quill(editorRef.current, { theme: 'snow', readOnly });\n    bindingRef.current = new QuillBinding(ytext, quillRef.current, providerRef.current.awareness);\n    return () => {\n      providerRef.current.destroy();\n      ydocRef.current.destroy();\n    };\n  }, [docId, readOnly]);\n\n  return <div ref={editorRef} style={{ height: 300, marginBottom: 20 }} />;\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,KAAKC,CAAC,MAAM,KAAK;AACxB,SAASC,YAAY,QAAQ,SAAS;AACtC,SAASC,iBAAiB,QAAQ,aAAa;AAC/C,OAAO,2BAA2B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnC,eAAe,SAASC,cAAcA,CAAC;EAAEC,KAAK;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAC1D,MAAMC,SAAS,GAAGX,MAAM,CAAC,CAAC;EAC1B,MAAMY,OAAO,GAAGZ,MAAM,CAAC,CAAC;EACxB,MAAMa,WAAW,GAAGb,MAAM,CAAC,CAAC;EAC5B,MAAMc,UAAU,GAAGd,MAAM,CAAC,CAAC;EAC3B,MAAMe,QAAQ,GAAGf,MAAM,CAAC,CAAC;EAEzBD,SAAS,CAAC,MAAM;IACd;IACAa,OAAO,CAACI,OAAO,GAAG,IAAId,CAAC,CAACe,GAAG,CAAC,CAAC;IAC7BJ,WAAW,CAACG,OAAO,GAAG,IAAIZ,iBAAiB,CAAC,qBAAqB,EAAE,OAAOI,KAAK,EAAE,EAAEI,OAAO,CAACI,OAAO,CAAC;IACnG,MAAME,KAAK,GAAGN,OAAO,CAACI,OAAO,CAACG,OAAO,CAAC,OAAO,CAAC;IAC9CJ,QAAQ,CAACC,OAAO,GAAG,IAAIf,KAAK,CAACU,SAAS,CAACK,OAAO,EAAE;MAAEI,KAAK,EAAE,MAAM;MAAEX;IAAS,CAAC,CAAC;IAC5EK,UAAU,CAACE,OAAO,GAAG,IAAIb,YAAY,CAACe,KAAK,EAAEH,QAAQ,CAACC,OAAO,EAAEH,WAAW,CAACG,OAAO,CAACK,SAAS,CAAC;IAC7F,OAAO,MAAM;MACXR,WAAW,CAACG,OAAO,CAACM,OAAO,CAAC,CAAC;MAC7BV,OAAO,CAACI,OAAO,CAACM,OAAO,CAAC,CAAC;IAC3B,CAAC;EACH,CAAC,EAAE,CAACd,KAAK,EAAEC,QAAQ,CAAC,CAAC;EAErB,oBAAOH,OAAA;IAAKiB,GAAG,EAAEZ,SAAU;IAACa,KAAK,EAAE;MAAEC,MAAM,EAAE,GAAG;MAAEC,YAAY,EAAE;IAAG;EAAE;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAC1E;AAACpB,EAAA,CArBuBH,cAAc;AAAAwB,EAAA,GAAdxB,cAAc;AAAA,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}